From f5650e2f80b552d010480d6ad09c2d4793b61a4e Mon Sep 17 00:00:00 2001
From: Robert Nelson <robertcnelson@gmail.com>
Date: Thu, 21 Dec 2017 16:16:25 -0600
Subject: [PATCH 3/3] pwmsp: hrtimer_get_res is gone in v4.2.x, use
 hrtimer_resolution value directly

Signed-off-by: Robert Nelson <robertcnelson@gmail.com>
---
 sound/drivers/pwmsp/pwmsp.c | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

diff --git a/sound/drivers/pwmsp/pwmsp.c b/sound/drivers/pwmsp/pwmsp.c
index a38fd9ef526e..4a15a21d1305 100644
--- a/sound/drivers/pwmsp/pwmsp.c
+++ b/sound/drivers/pwmsp/pwmsp.c
@@ -40,11 +40,10 @@ struct snd_pwmsp pwmsp_chip;
 static int snd_pwmsp_create(struct snd_card *card)
 {
 	static struct snd_device_ops ops = { };
-	struct timespec tp;
+	unsigned int resolution = hrtimer_resolution;
 	int err;
 
-	hrtimer_get_res(CLOCK_MONOTONIC, &tp);
-	pr_info("PCSP: Timer resolution is (%linS)\n", tp.tv_nsec);
+	pr_info("PCSP: Timer resolution is (%unS)\n", resolution);
 
 	spin_lock_init(&pwmsp_chip.substream_lock);
 	atomic_set(&pwmsp_chip.timer_active, 0);
-- 
2.15.1

