From feaa2133079161381255843c085ea46e98f726cc Mon Sep 17 00:00:00 2001
From: Robert Nelson <robertcnelson@gmail.com>
Date: Wed, 10 Dec 2014 12:37:51 -0600
Subject: [PATCH 26/26] cape: bbb-exp-c: really 1024x600

Signed-off-by: Robert Nelson <robertcnelson@gmail.com>
---
 arch/arm/boot/dts/am335x-bone-4dcape-43.dtsi       |   2 +-
 arch/arm/boot/dts/am335x-bone-4dcape-43t.dtsi      |   2 +-
 arch/arm/boot/dts/am335x-bone-4dcape-70.dtsi       |   2 +-
 arch/arm/boot/dts/am335x-bone-4dcape-70t.dtsi      |   2 +-
 arch/arm/boot/dts/am335x-bone-bb-view-43.dtsi      |   2 +-
 arch/arm/boot/dts/am335x-bone-bbb-exp-c.dtsi       |   5 +-
 arch/arm/boot/dts/am335x-bone-lcd3-01-00a2.dtsi    |   2 +-
 arch/arm/boot/dts/am335x-bone-lcd4-01-00a1.dtsi    |   2 +-
 arch/arm/boot/dts/am335x-bone-lcd7-01-00a2.dtsi    |   2 +-
 arch/arm/boot/dts/am335x-bone-lcd7-01-00a3.dtsi    |   2 +-
 .../boot/dts/am335x-bone-panel-1024x600-24bit.dtsi | 137 +++++++++++++++++++++
 .../boot/dts/am335x-bone-panel-1240x600-24bit.dtsi | 137 ---------------------
 12 files changed, 149 insertions(+), 148 deletions(-)
 create mode 100644 arch/arm/boot/dts/am335x-bone-panel-1024x600-24bit.dtsi
 delete mode 100644 arch/arm/boot/dts/am335x-bone-panel-1240x600-24bit.dtsi

diff --git a/arch/arm/boot/dts/am335x-bone-4dcape-43.dtsi b/arch/arm/boot/dts/am335x-bone-4dcape-43.dtsi
index 3ef21bc..2b14be0 100644
--- a/arch/arm/boot/dts/am335x-bone-4dcape-43.dtsi
+++ b/arch/arm/boot/dts/am335x-bone-4dcape-43.dtsi
@@ -28,4 +28,4 @@
 /* #include "am335x-bone-panel-320x240.dtsi" */
 #include "am335x-bone-panel-480x272.dtsi"
 /* #include "am335x-bone-panel-800x480.dtsi" */
-/* #include "am335x-bone-panel-1240x600-24bit.dtsi" */
+/* #include "am335x-bone-panel-1024x600-24bit.dtsi" */
diff --git a/arch/arm/boot/dts/am335x-bone-4dcape-43t.dtsi b/arch/arm/boot/dts/am335x-bone-4dcape-43t.dtsi
index bb27434..d90e6bd 100644
--- a/arch/arm/boot/dts/am335x-bone-4dcape-43t.dtsi
+++ b/arch/arm/boot/dts/am335x-bone-4dcape-43t.dtsi
@@ -28,4 +28,4 @@
 /* #include "am335x-bone-panel-320x240.dtsi" */
 #include "am335x-bone-panel-480x272.dtsi"
 /* #include "am335x-bone-panel-800x480.dtsi" */
-/* #include "am335x-bone-panel-1240x600-24bit.dtsi" */
+/* #include "am335x-bone-panel-1024x600-24bit.dtsi" */
diff --git a/arch/arm/boot/dts/am335x-bone-4dcape-70.dtsi b/arch/arm/boot/dts/am335x-bone-4dcape-70.dtsi
index aa30010..72dc6a7 100644
--- a/arch/arm/boot/dts/am335x-bone-4dcape-70.dtsi
+++ b/arch/arm/boot/dts/am335x-bone-4dcape-70.dtsi
@@ -28,4 +28,4 @@
 /* #include "am335x-bone-panel-320x240.dtsi" */
 /* #include "am335x-bone-panel-480x272.dtsi" */
 #include "am335x-bone-panel-800x480.dtsi"
-/* #include "am335x-bone-panel-1240x600-24bit.dtsi" */
+/* #include "am335x-bone-panel-1024x600-24bit.dtsi" */
diff --git a/arch/arm/boot/dts/am335x-bone-4dcape-70t.dtsi b/arch/arm/boot/dts/am335x-bone-4dcape-70t.dtsi
index 4ce42f3..05f2b18 100644
--- a/arch/arm/boot/dts/am335x-bone-4dcape-70t.dtsi
+++ b/arch/arm/boot/dts/am335x-bone-4dcape-70t.dtsi
@@ -28,4 +28,4 @@
 /* #include "am335x-bone-panel-320x240.dtsi" */
 /* #include "am335x-bone-panel-480x272.dtsi" */
 #include "am335x-bone-panel-800x480.dtsi"
-/* #include "am335x-bone-panel-1240x600-24bit.dtsi" */
+/* #include "am335x-bone-panel-1024x600-24bit.dtsi" */
diff --git a/arch/arm/boot/dts/am335x-bone-bb-view-43.dtsi b/arch/arm/boot/dts/am335x-bone-bb-view-43.dtsi
index 9786816..3c6468e 100644
--- a/arch/arm/boot/dts/am335x-bone-bb-view-43.dtsi
+++ b/arch/arm/boot/dts/am335x-bone-bb-view-43.dtsi
@@ -29,5 +29,5 @@
 /* #include "am335x-bone-panel-320x240.dtsi" */
 /* #include "am335x-bone-panel-480x272.dtsi" */
 /* #include "am335x-bone-panel-800x480.dtsi" */
-/* #include "am335x-bone-panel-1240x600-24bit.dtsi" */
+/* #include "am335x-bone-panel-1024x600-24bit.dtsi" */
 #include "am335x-bone-panel-480x272-bgrx_16bpp.dtsi"
diff --git a/arch/arm/boot/dts/am335x-bone-bbb-exp-c.dtsi b/arch/arm/boot/dts/am335x-bone-bbb-exp-c.dtsi
index 8edb4f5..41e146a 100644
--- a/arch/arm/boot/dts/am335x-bone-bbb-exp-c.dtsi
+++ b/arch/arm/boot/dts/am335x-bone-bbb-exp-c.dtsi
@@ -6,6 +6,7 @@
  * published by the Free Software Foundation.
  */
 
+#include "am335x-bone-can0.dtsi"
 #include "am335x-bone-ttyO1.dtsi"
 #include "am335x-bone-ttyO2.dtsi"
 #include "am335x-bone-ttyO4.dtsi"
@@ -57,7 +58,7 @@
 		interrupt-parent = <&gpio1>;
 		interrupts = <17 0>;
 
-		touchscreen-size-x = <1240>;
+		touchscreen-size-x = <1024>;
 		touchscreen-size-y = <600>;
 	};
 
@@ -124,4 +125,4 @@
 /* #include "am335x-bone-panel-320x240.dtsi" */
 /* #include "am335x-bone-panel-480x272.dtsi" */
 /* #include "am335x-bone-panel-800x480.dtsi" */
-#include "am335x-bone-panel-1240x600-24bit.dtsi"
+#include "am335x-bone-panel-1024x600-24bit.dtsi"
diff --git a/arch/arm/boot/dts/am335x-bone-lcd3-01-00a2.dtsi b/arch/arm/boot/dts/am335x-bone-lcd3-01-00a2.dtsi
index 6a7378c..1849cd0 100644
--- a/arch/arm/boot/dts/am335x-bone-lcd3-01-00a2.dtsi
+++ b/arch/arm/boot/dts/am335x-bone-lcd3-01-00a2.dtsi
@@ -28,4 +28,4 @@
 #include "am335x-bone-panel-320x240.dtsi"
 /* #include "am335x-bone-panel-480x272.dtsi" */
 /* #include "am335x-bone-panel-800x480.dtsi" */
-/* #include "am335x-bone-panel-1240x600-24bit.dtsi" */
+/* #include "am335x-bone-panel-1024x600-24bit.dtsi" */
diff --git a/arch/arm/boot/dts/am335x-bone-lcd4-01-00a1.dtsi b/arch/arm/boot/dts/am335x-bone-lcd4-01-00a1.dtsi
index bb27434..d90e6bd 100644
--- a/arch/arm/boot/dts/am335x-bone-lcd4-01-00a1.dtsi
+++ b/arch/arm/boot/dts/am335x-bone-lcd4-01-00a1.dtsi
@@ -28,4 +28,4 @@
 /* #include "am335x-bone-panel-320x240.dtsi" */
 #include "am335x-bone-panel-480x272.dtsi"
 /* #include "am335x-bone-panel-800x480.dtsi" */
-/* #include "am335x-bone-panel-1240x600-24bit.dtsi" */
+/* #include "am335x-bone-panel-1024x600-24bit.dtsi" */
diff --git a/arch/arm/boot/dts/am335x-bone-lcd7-01-00a2.dtsi b/arch/arm/boot/dts/am335x-bone-lcd7-01-00a2.dtsi
index 5eb68c3..258b969 100644
--- a/arch/arm/boot/dts/am335x-bone-lcd7-01-00a2.dtsi
+++ b/arch/arm/boot/dts/am335x-bone-lcd7-01-00a2.dtsi
@@ -28,4 +28,4 @@
 /* #include "am335x-bone-panel-320x240.dtsi" */
 /* #include "am335x-bone-panel-480x272.dtsi" */
 #include "am335x-bone-panel-800x480.dtsi"
-/* #include "am335x-bone-panel-1240x600-24bit.dtsi" */
+/* #include "am335x-bone-panel-1024x600-24bit.dtsi" */
diff --git a/arch/arm/boot/dts/am335x-bone-lcd7-01-00a3.dtsi b/arch/arm/boot/dts/am335x-bone-lcd7-01-00a3.dtsi
index 4ce42f3..05f2b18 100644
--- a/arch/arm/boot/dts/am335x-bone-lcd7-01-00a3.dtsi
+++ b/arch/arm/boot/dts/am335x-bone-lcd7-01-00a3.dtsi
@@ -28,4 +28,4 @@
 /* #include "am335x-bone-panel-320x240.dtsi" */
 /* #include "am335x-bone-panel-480x272.dtsi" */
 #include "am335x-bone-panel-800x480.dtsi"
-/* #include "am335x-bone-panel-1240x600-24bit.dtsi" */
+/* #include "am335x-bone-panel-1024x600-24bit.dtsi" */
diff --git a/arch/arm/boot/dts/am335x-bone-panel-1024x600-24bit.dtsi b/arch/arm/boot/dts/am335x-bone-panel-1024x600-24bit.dtsi
new file mode 100644
index 0000000..482a084
--- /dev/null
+++ b/arch/arm/boot/dts/am335x-bone-panel-1024x600-24bit.dtsi
@@ -0,0 +1,137 @@
+/*
+ * Copyright (C) 2012 Texas Instruments Incorporated - http://www.ti.com/
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ */
+
+&ocp {
+	/* hdmi */
+	P8_11_pinmux {
+		status = "disabled";
+	};
+	P8_12_pinmux {
+		status = "disabled";
+	};
+	P8_13_pinmux {
+		status = "disabled";
+	};
+	P8_14_pinmux {
+		status = "disabled";
+	};
+	P8_15_pinmux {
+		status = "disabled";
+	};
+	P8_16_pinmux {
+		status = "disabled";
+	};
+	P8_17_pinmux {
+		status = "disabled";
+	};
+	P8_19_pinmux {
+		status = "disabled";
+	};
+	P8_27_pinmux {
+		status = "disabled";
+	};
+	P8_28_pinmux {
+		status = "disabled";
+	};
+	P8_29_pinmux {
+		status = "disabled";
+	};
+	P8_30_pinmux {
+		status = "disabled";
+	};
+	P8_31_pinmux {
+		status = "disabled";
+	};
+	P8_32_pinmux {
+		status = "disabled";
+	};
+	P8_33_pinmux {
+		status = "disabled";
+	};
+	P8_34_pinmux {
+		status = "disabled";
+	};
+	P8_35_pinmux {
+		status = "disabled";
+	};
+	P8_36_pinmux {
+		status = "disabled";
+	};
+	P8_37_pinmux {
+		status = "disabled";
+	};
+	P8_38_pinmux {
+		status = "disabled";
+	};
+	P8_39_pinmux {
+		status = "disabled";
+	};
+	P8_40_pinmux {
+		status = "disabled";
+	};
+	P8_41_pinmux {
+		status = "disabled";
+	};
+	P8_42_pinmux {
+		status = "disabled";
+	};
+	P8_43_pinmux {
+		status = "disabled";
+	};
+	P8_44_pinmux {
+		status = "disabled";
+	};
+	P8_45_pinmux {
+		status = "disabled";
+	};
+	P8_46_pinmux {
+		status = "disabled";
+	};
+};
+
+&lcdc {
+	status = "okay";
+};
+
+/ {
+	panel {
+		status = "okay";
+		compatible = "ti,tilcdc,panel";
+		pinctrl-names = "default";
+		pinctrl-0 = <&bbcape_lcd_24bit_pins>;
+		panel-info {
+			ac-bias           = <255>;
+			ac-bias-intrpt    = <0>;
+			dma-burst-sz      = <16>;
+			bpp               = <32>;
+			fdd               = <0x80>;
+			sync-edge         = <0>;
+			sync-ctrl         = <0>;
+			raster-order      = <1>;
+			fifo-th           = <0>;
+		};
+		display-timings {
+			native-mode = <&timing0>;
+			timing0: 1024x600 {
+				clock-frequency = <36000000>;
+				hactive = <1024>;
+				vactive = <600>;
+				hfront-porch = <1>;
+				hback-porch = <45>;
+				hsync-len = <30>;
+				vback-porch = <22>;
+				vfront-porch = <12>;
+				vsync-len = <2>;
+				hsync-active = <1>;
+				vsync-active = <1>;
+				de-active = <1>;
+				pixelclk-active = <0>;
+			};
+		};
+	};
+};
diff --git a/arch/arm/boot/dts/am335x-bone-panel-1240x600-24bit.dtsi b/arch/arm/boot/dts/am335x-bone-panel-1240x600-24bit.dtsi
deleted file mode 100644
index 482a084..0000000
--- a/arch/arm/boot/dts/am335x-bone-panel-1240x600-24bit.dtsi
+++ /dev/null
@@ -1,137 +0,0 @@
-/*
- * Copyright (C) 2012 Texas Instruments Incorporated - http://www.ti.com/
- *
- * This program is free software; you can redistribute it and/or modify
- * it under the terms of the GNU General Public License version 2 as
- * published by the Free Software Foundation.
- */
-
-&ocp {
-	/* hdmi */
-	P8_11_pinmux {
-		status = "disabled";
-	};
-	P8_12_pinmux {
-		status = "disabled";
-	};
-	P8_13_pinmux {
-		status = "disabled";
-	};
-	P8_14_pinmux {
-		status = "disabled";
-	};
-	P8_15_pinmux {
-		status = "disabled";
-	};
-	P8_16_pinmux {
-		status = "disabled";
-	};
-	P8_17_pinmux {
-		status = "disabled";
-	};
-	P8_19_pinmux {
-		status = "disabled";
-	};
-	P8_27_pinmux {
-		status = "disabled";
-	};
-	P8_28_pinmux {
-		status = "disabled";
-	};
-	P8_29_pinmux {
-		status = "disabled";
-	};
-	P8_30_pinmux {
-		status = "disabled";
-	};
-	P8_31_pinmux {
-		status = "disabled";
-	};
-	P8_32_pinmux {
-		status = "disabled";
-	};
-	P8_33_pinmux {
-		status = "disabled";
-	};
-	P8_34_pinmux {
-		status = "disabled";
-	};
-	P8_35_pinmux {
-		status = "disabled";
-	};
-	P8_36_pinmux {
-		status = "disabled";
-	};
-	P8_37_pinmux {
-		status = "disabled";
-	};
-	P8_38_pinmux {
-		status = "disabled";
-	};
-	P8_39_pinmux {
-		status = "disabled";
-	};
-	P8_40_pinmux {
-		status = "disabled";
-	};
-	P8_41_pinmux {
-		status = "disabled";
-	};
-	P8_42_pinmux {
-		status = "disabled";
-	};
-	P8_43_pinmux {
-		status = "disabled";
-	};
-	P8_44_pinmux {
-		status = "disabled";
-	};
-	P8_45_pinmux {
-		status = "disabled";
-	};
-	P8_46_pinmux {
-		status = "disabled";
-	};
-};
-
-&lcdc {
-	status = "okay";
-};
-
-/ {
-	panel {
-		status = "okay";
-		compatible = "ti,tilcdc,panel";
-		pinctrl-names = "default";
-		pinctrl-0 = <&bbcape_lcd_24bit_pins>;
-		panel-info {
-			ac-bias           = <255>;
-			ac-bias-intrpt    = <0>;
-			dma-burst-sz      = <16>;
-			bpp               = <32>;
-			fdd               = <0x80>;
-			sync-edge         = <0>;
-			sync-ctrl         = <0>;
-			raster-order      = <1>;
-			fifo-th           = <0>;
-		};
-		display-timings {
-			native-mode = <&timing0>;
-			timing0: 1024x600 {
-				clock-frequency = <36000000>;
-				hactive = <1024>;
-				vactive = <600>;
-				hfront-porch = <1>;
-				hback-porch = <45>;
-				hsync-len = <30>;
-				vback-porch = <22>;
-				vfront-porch = <12>;
-				vsync-len = <2>;
-				hsync-active = <1>;
-				vsync-active = <1>;
-				de-active = <1>;
-				pixelclk-active = <0>;
-			};
-		};
-	};
-};
-- 
2.1.3

