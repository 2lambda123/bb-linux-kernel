From 0e4f27bb3daca077620f232e1c7352c27137b001 Mon Sep 17 00:00:00 2001
From: Robert Nelson <robertcnelson@gmail.com>
Date: Tue, 16 Sep 2014 11:51:51 -0500
Subject: [PATCH 23/23] bbb-exp-c: fix pinmux collusions

Signed-off-by: Robert Nelson <robertcnelson@gmail.com>
---
 arch/arm/boot/dts/am335x-bone-bbb-exp-c.dtsi       | 30 ++++++++++++++++++++++
 arch/arm/boot/dts/am335x-bone-keymap3.dtsi         | 19 ++++++++++++++
 .../boot/dts/am335x-bone-led-gpio2-4-gpio2-5.dtsi  |  9 +++++++
 .../boot/dts/am335x-bone-panel-1240x600-24bit.dtsi | 27 +++++++++++++++++++
 arch/arm/boot/dts/am335x-bone-ttyO1.dtsi           |  9 +++++++
 arch/arm/boot/dts/am335x-bone-ttyO2.dtsi           |  9 +++++++
 arch/arm/boot/dts/am335x-bone-ttyO4.dtsi           |  9 +++++++
 7 files changed, 112 insertions(+)

diff --git a/arch/arm/boot/dts/am335x-bone-bbb-exp-c.dtsi b/arch/arm/boot/dts/am335x-bone-bbb-exp-c.dtsi
index c17a240..8edb4f5 100644
--- a/arch/arm/boot/dts/am335x-bone-bbb-exp-c.dtsi
+++ b/arch/arm/boot/dts/am335x-bone-bbb-exp-c.dtsi
@@ -10,6 +10,36 @@
 #include "am335x-bone-ttyO2.dtsi"
 #include "am335x-bone-ttyO4.dtsi"
 
+&ocp {
+	/* i2c */
+	P9_17_pinmux {
+		status = "disabled";
+	};
+	P9_18_pinmux {
+		status = "disabled";
+	};
+	/* edt-ft5306 irq pin */
+	P9_23_pinmux {
+		status = "disabled";
+	};
+	/* audio */
+	P9_28_pinmux {
+		status = "disabled";
+	};
+	P9_29_pinmux {
+		status = "disabled";
+	};
+	P9_30_pinmux {
+		status = "disabled";
+	};
+	P9_31_pinmux {
+		status = "disabled";
+	};
+	P9_41_pinmux {
+		status = "disabled";
+	};
+};
+
 &i2c1 {
 	pinctrl-names = "default";
 	pinctrl-0 = <&i2c1_pins>;
diff --git a/arch/arm/boot/dts/am335x-bone-keymap3.dtsi b/arch/arm/boot/dts/am335x-bone-keymap3.dtsi
index 2b17363..f3f3aa7 100644
--- a/arch/arm/boot/dts/am335x-bone-keymap3.dtsi
+++ b/arch/arm/boot/dts/am335x-bone-keymap3.dtsi
@@ -6,6 +6,25 @@
  * published by the Free Software Foundation.
  */
 
+
+&ocp {
+	P9_12_pinmux {
+		status = "disabled";
+	};
+	P9_15_pinmux {
+		status = "disabled";
+	};
+	P9_16_pinmux {
+		status = "disabled";
+	};
+	P9_27_pinmux {
+		status = "disabled";
+	};
+	P9_42_pinmux {
+		status = "disabled";
+	};
+};
+
 / {
 	gpio_keys {
 		compatible = "gpio-keys";
diff --git a/arch/arm/boot/dts/am335x-bone-led-gpio2-4-gpio2-5.dtsi b/arch/arm/boot/dts/am335x-bone-led-gpio2-4-gpio2-5.dtsi
index 4cda925..c80d580 100644
--- a/arch/arm/boot/dts/am335x-bone-led-gpio2-4-gpio2-5.dtsi
+++ b/arch/arm/boot/dts/am335x-bone-led-gpio2-4-gpio2-5.dtsi
@@ -6,6 +6,15 @@
  * published by the Free Software Foundation.
  */
 
+&ocp {
+	P8_09_pinmux {
+		status = "disabled";
+	};
+	P8_10_pinmux {
+		status = "disabled";
+	};
+};
+
 / {
 	gpio-leds-cape-lcd {
 		compatible = "gpio-leds";
diff --git a/arch/arm/boot/dts/am335x-bone-panel-1240x600-24bit.dtsi b/arch/arm/boot/dts/am335x-bone-panel-1240x600-24bit.dtsi
index d123220..a259e4a 100644
--- a/arch/arm/boot/dts/am335x-bone-panel-1240x600-24bit.dtsi
+++ b/arch/arm/boot/dts/am335x-bone-panel-1240x600-24bit.dtsi
@@ -6,6 +6,33 @@
  * published by the Free Software Foundation.
  */
 
+&ocp {
+	P8_11_pinmux {
+		status = "disabled";
+	};
+	P8_12_pinmux {
+		status = "disabled";
+	};
+	P8_13_pinmux {
+		status = "disabled";
+	};
+	P8_14_pinmux {
+		status = "disabled";
+	};
+	P8_15_pinmux {
+		status = "disabled";
+	};
+	P8_16_pinmux {
+		status = "disabled";
+	};
+	P8_17_pinmux {
+		status = "disabled";
+	};
+	P8_19_pinmux {
+		status = "disabled";
+	};
+};
+
 &lcdc {
 	status = "okay";
 };
diff --git a/arch/arm/boot/dts/am335x-bone-ttyO1.dtsi b/arch/arm/boot/dts/am335x-bone-ttyO1.dtsi
index aac2137..060c93b 100644
--- a/arch/arm/boot/dts/am335x-bone-ttyO1.dtsi
+++ b/arch/arm/boot/dts/am335x-bone-ttyO1.dtsi
@@ -6,6 +6,15 @@
  * published by the Free Software Foundation.
  */
 
+&ocp {
+	P9_24_pinmux {
+		status = "disabled";
+	};
+	P9_26_pinmux {
+		status = "disabled";
+	};
+};
+
 &uart1 {
 	pinctrl-names = "default";
 	pinctrl-0 = <&uart1_pins>;
diff --git a/arch/arm/boot/dts/am335x-bone-ttyO2.dtsi b/arch/arm/boot/dts/am335x-bone-ttyO2.dtsi
index 8a7e0b2..849c22a 100644
--- a/arch/arm/boot/dts/am335x-bone-ttyO2.dtsi
+++ b/arch/arm/boot/dts/am335x-bone-ttyO2.dtsi
@@ -6,6 +6,15 @@
  * published by the Free Software Foundation.
  */
 
+&ocp {
+	P9_21_pinmux {
+		status = "disabled";
+	};
+	P9_22_pinmux {
+		status = "disabled";
+	};
+};
+
 &uart2 {
 	pinctrl-names = "default";
 	pinctrl-0 = <&uart2_pins>;
diff --git a/arch/arm/boot/dts/am335x-bone-ttyO4.dtsi b/arch/arm/boot/dts/am335x-bone-ttyO4.dtsi
index 54c5149..2348fe4 100644
--- a/arch/arm/boot/dts/am335x-bone-ttyO4.dtsi
+++ b/arch/arm/boot/dts/am335x-bone-ttyO4.dtsi
@@ -6,6 +6,15 @@
  * published by the Free Software Foundation.
  */
 
+&ocp {
+	P9_11_pinmux {
+		status = "disabled";
+	};
+	P9_13_pinmux {
+		status = "disabled";
+	};
+};
+
 &uart4 {
 	pinctrl-names = "default";
 	pinctrl-0 = <&uart4_pins>;
-- 
2.1.0

