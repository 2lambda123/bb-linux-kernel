From d8a7910e5923bba61daef805a87bc84ffdfba1a0 Mon Sep 17 00:00:00 2001
From: Robert Nelson <robertcnelson@gmail.com>
Date: Tue, 26 Feb 2019 15:36:07 -0600
Subject: [PATCH] am335x: pru: let u-boot load the correct mode

Signed-off-by: Robert Nelson <robertcnelson@gmail.com>
---
 .../boot/dts/am335x-bone-common-no-capemgr.dtsi    | 14 +++++++-------
 arch/arm/boot/dts/am335x-bone-common.dtsi          | 14 +++++++-------
 arch/arm/boot/dts/am335x-boneblue.dts              |  8 ++++++++
 arch/arm/boot/dts/am335x-pocketbeagle.dts          |  8 ++++++++
 4 files changed, 30 insertions(+), 14 deletions(-)

diff --git a/arch/arm/boot/dts/am335x-bone-common-no-capemgr.dtsi b/arch/arm/boot/dts/am335x-bone-common-no-capemgr.dtsi
index 1fda03040661..05f8a1c8580c 100644
--- a/arch/arm/boot/dts/am335x-bone-common-no-capemgr.dtsi
+++ b/arch/arm/boot/dts/am335x-bone-common-no-capemgr.dtsi
@@ -378,10 +378,10 @@
 	ti,scale-data-fw = "am335x-bone-scale-data.bin";
 };
 
-&pruss_soc_bus {
-	status = "okay";
-
-	pruss: pruss@4a300000 {
-		status = "okay";
-	};
-};
+//&pruss_soc_bus {
+//	status = "okay";
+//
+//	pruss: pruss@4a300000 {
+//		status = "okay";
+//	};
+//};
diff --git a/arch/arm/boot/dts/am335x-bone-common.dtsi b/arch/arm/boot/dts/am335x-bone-common.dtsi
index 429e8724ec58..cb44b67937a6 100644
--- a/arch/arm/boot/dts/am335x-bone-common.dtsi
+++ b/arch/arm/boot/dts/am335x-bone-common.dtsi
@@ -464,13 +464,13 @@
 	ti,scale-data-fw = "am335x-bone-scale-data.bin";
 };
 
-&pruss_soc_bus {
-	status = "okay";
-
-	pruss: pruss@4a300000 {
-		status = "okay";
-	};
-};
+//&pruss_soc_bus {
+//	status = "okay";
+//
+//	pruss: pruss@4a300000 {
+//		status = "okay";
+//	};
+//};
 
 &ocp {
 	/* P9_19 (ZCZ ball D17) i2c */
diff --git a/arch/arm/boot/dts/am335x-boneblue.dts b/arch/arm/boot/dts/am335x-boneblue.dts
index d0ec7737b644..a96bd7f05c57 100644
--- a/arch/arm/boot/dts/am335x-boneblue.dts
+++ b/arch/arm/boot/dts/am335x-boneblue.dts
@@ -742,6 +742,14 @@
 	ti,scale-data-fw = "am335x-bone-scale-data.bin";
 };
 
+//&pruss_soc_bus {
+//	status = "okay";
+//
+//	pruss: pruss@4a300000 {
+//		status = "okay";
+//	};
+//};
+
 &dcan1 {
 	pinctrl-names = "default";
 	pinctrl-0 = <&dcan1_pins>;
diff --git a/arch/arm/boot/dts/am335x-pocketbeagle.dts b/arch/arm/boot/dts/am335x-pocketbeagle.dts
index 23ffd2a656bb..0cd23505fbca 100644
--- a/arch/arm/boot/dts/am335x-pocketbeagle.dts
+++ b/arch/arm/boot/dts/am335x-pocketbeagle.dts
@@ -1033,6 +1033,14 @@
 	system-power-controller;
 };
 
+//&pruss_soc_bus {
+//	status = "okay";
+//
+//	pruss: pruss@4a300000 {
+//		status = "okay";
+//	};
+//};
+
 &tscadc {
 	status = "okay";
 	adc {
-- 
2.20.1

